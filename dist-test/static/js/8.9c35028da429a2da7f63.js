webpackJsonp([8],{"1yM1":function(r,e,t){(r.exports=t("FZ+f")(!0)).push([r.i,"\nh1[data-v-5b5fe7c7],\r\nh2[data-v-5b5fe7c7] {\r\n  font-weight: normal;\n}\nul[data-v-5b5fe7c7] {\r\n  list-style-type: none;\r\n  padding: 0;\n}\nli[data-v-5b5fe7c7] {\r\n  display: inline-block;\r\n  margin: 0 10px;\n}\na[data-v-5b5fe7c7] {\r\n  color: #42b983;\n}\n.grids[data-v-5b5fe7c7] {\r\n  width: 80%;\r\n  float: left;\n}\n.select[data-v-5b5fe7c7] {\r\n  display: block;\n}\n.orders[data-v-5b5fe7c7] {\r\n  width: 19%;\r\n  float: right;\r\n  /*border:1px solid red*/\n}\n.btn[data-v-5b5fe7c7] {\r\n  margin: 20px 0;\r\n  width: 70%;\n}\n.wrk-list li[data-v-5b5fe7c7] {\r\n  margin: 8px 0;\n}\n.from[data-v-5b5fe7c7] {\r\n  width: 50%;\r\n  position: fixed;\r\n  margin: 60px auto;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n  background: white;\n}\r\n","",{version:3,sources:["D:/my-vue-webpack/utc-vue-webpack/src/components/src/components/client-orders.vue"],names:[],mappings:";AAuWA;;EAEA,oBAAA;CACA;AACA;EACA,sBAAA;EACA,WAAA;CACA;AACA;EACA,sBAAA;EACA,eAAA;CACA;AACA;EACA,eAAA;CACA;AAEA;EACA,WAAA;EACA,YAAA;CACA;AACA;EACA,eAAA;CACA;AACA;EACA,WAAA;EACA,aAAA;EACA,wBAAA;CACA;AACA;EACA,eAAA;EACA,WAAA;CACA;AACA;EACA,cAAA;CACA;AACA;EACA,WAAA;EACA,gBAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,YAAA;EACA,kBAAA;CACA",file:"client-orders.vue",sourcesContent:['<template>\r\n  <div>\r\n    <div class="pagetitle">洗车预约单</div>\r\n    <el-form label-width="80px" :ref="mapsd" :model="mapsd" v-show="flag" class="from">\r\n      <el-form-item label="基准价格">\r\n        <el-input v-model="mapsd.base_rate"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label="车型系数">\r\n        <el-input v-model="mapsd.car_rate"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label="频次系数">\r\n        <el-input v-model="mapsd.frequency_rate"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label="地址系数">\r\n        <el-input v-model="mapsd.address_rate"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label="节日系数">\r\n        <el-input v-model="mapsd.holiday_rate"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label="派单系数">\r\n        <el-input v-model="mapsd.order_rate"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label="总价格">\r\n        <el-input v-model="mapsd.money"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label="技师价格">\r\n        <el-input v-model="mapsd.true_money"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button type="primary" @click="fromtext">关闭</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class="orders">\r\n      <h3>待派单</h3>\r\n      \x3c!-- <p>{{toDispatch}}</p> --\x3e\r\n\r\n      <ul class="wrk-list">\r\n        <li v-for="(j,index) in toDispatch" :key="j">\r\n          <div class="view">\r\n            <button class="destroy" @click="moveDist(index)">{{j}} -</button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <h3>选择技师</h3>\r\n      <div>\r\n        <el-select v-model="worker_id" placeholder="请选择" @change="getValue" :disabled="disabled">\r\n          <el-option\r\n            v-for="wk in workers"\r\n            :key="wk.uid"\r\n            :label="wk.nick_name"\r\n            :value="wk.uid"\r\n            class="select"\r\n          ></el-option>\r\n        </el-select>\r\n      </div>\r\n      <button class="btn" @click="postParmas">提交</button>\r\n    </div>\r\n\r\n    <div class="grids">\r\n      \x3c!-- <kendo-datasource\r\n      ref="datasource1"\r\n     :transport-read-url="\'http://dev.upctech.com.cn/api/dis/getorderlist\'"\r\n     :page-size=\'20\'\r\n     :server-paging="false"\r\n      &gt;\r\n      </kendo-datasource>--\x3e\r\n      <kendo-grid\r\n        ref="grid"\r\n        :data-source="datasource1"\r\n        :sortable-mode="\'multiple\'"\r\n        :sortable-allow-unsort="true"\r\n        :sortable-show-indexes="true"\r\n        :server-filtering="true"\r\n        :pageable="true"\r\n        :filterable-mode="\'row\'"\r\n      >\r\n        <kendo-grid-column :field="\'order_no\'" :width="220"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'order_id\'" , :title="\'系统订单编号\'" :width="120"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'nick_name\'" :title="\'用户昵称\'" :width="220"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'create_time\'" :title="\'下单时间\'" :width="220"></kendo-grid-column>\r\n\r\n        <kendo-grid-column\r\n          :field="\'item_title\'"\r\n          :title="\'服务项目\'"\r\n          :width="120"\r\n          :filterable-cell-operator="\'contains\'"\r\n          :filterable-cell-suggestion-operator="\'contains\'"\r\n        ></kendo-grid-column>\r\n        <kendo-grid-column :field="\'address_detail\'" :title="\'地址\'" :width="250"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'order_status\'" :title="\'订单状态\'" :width="120" :format="\'{0:c}\'"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'service_date\'" :title="\'服务时间\'" :width="120" :format="\'{0:c}\'"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'start_time\'" :title="\'预约开始\'" :width="120"></kendo-grid-column>\r\n        <kendo-grid-column :field="\'end_time\'" :title="\'预约截止\'" :width="120"></kendo-grid-column>\r\n        <kendo-grid-column\r\n          :command="{ text: \'选择\', click: showDetails }"\r\n          :title="\'&nbsp;\'"\r\n          :width="100"\r\n        ></kendo-grid-column>\r\n        <kendo-grid-column :command="{ text: \'详情\', click: show}" :title="\'&nbsp;\'" :width="100"></kendo-grid-column>\r\n      </kendo-grid>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n// import http from \'../api/http\'\r\nimport axios from "axios";\r\n// Vue.prototype.$http = axios;\r\nimport { DropdownsInstaller } from "@progress/kendo-ui";\r\nimport time from "../api/time";\r\n\r\nexport default {\r\n  name: "client_orders",\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      toDispatch: [],\r\n      workers: [],\r\n      worker_id: "",\r\n      orders_id: "",\r\n      orders_time: "",\r\n      starttime: "",\r\n      endtime: "",\r\n      order_list: {},\r\n      worker: {},\r\n      disabled: true,\r\n      datasource1: "",\r\n      mapsd: {\r\n        car_rate: "",\r\n        frequency_rate: "",\r\n        address_rate: "",\r\n        holiday_rate: "",\r\n        order_rate: 0.98,\r\n        money: "",\r\n        base_rate: 1,\r\n        true_money: ""\r\n      },\r\n      flag: false\r\n    };\r\n  },\r\n  created() {\r\n    let date = new Date();\r\n    var m = date.getMonth() + 1;\r\n    m = m < 10 ? "0" + m : m;\r\n    var d = date.getDate();\r\n    d = d < 10 ? "0" + d : d;\r\n    var newTime = date.getFullYear() + "-" + m + "-" + d;\r\n    console.log("当前时间", newTime);\r\n    let wrk_url = _that.$api + "/api/dis/getworklist";\r\n    let params = {};\r\n    params.city = "上海市";\r\n    params.date = newTime;\r\n    axios.post(wrk_url, params).then(res => {\r\n      console.log(res);\r\n      this.workers = res.data;\r\n    });\r\n    this.GetOrders();\r\n  },\r\n  methods: {\r\n    // parameterMap: function(options, operation) {\r\n    //   if (operation !== "read" && options.models) {\r\n    //     return { models: kendo.stringify(options.models) };\r\n    //   }\r\n    // },\r\n    showDetails: function(e) {\r\n      e.preventDefault();\r\n      var grid = this.$refs.grid.kendoWidget();\r\n      var dataItem = grid.dataItem(e.currentTarget.closest("tr"));\r\n      //获取数据\r\n      this.orders_id = dataItem.order_id;\r\n\r\n      //获取预约开始时间前一个小时\r\n      this.starttime = dataItem.service_date + " " + dataItem.start_time;\r\n      this.endtime = dataItem.service_date + " " + dataItem.end_time;\r\n      // starttime = starttime.replace(new RegExp("-","gm"),"/");\r\n      // var starttimeHaoMiao = (new Date(starttime)).getTime();\r\n      // starttimeHaoMiao = starttimeHaoMiao - 60*60*1000\r\n      // console.log("hao",starttimeHaoMiao)\r\n      //\r\n      // var date = new Date(starttimeHaoMiao);\r\n      //\r\n      // var m = date.getMonth() + 1;\r\n      // m = m < 10 ? (\'0\' + m) : m;\r\n      // var d = date.getDate();\r\n      // d = d < 10 ? (\'0\' + d) : d;\r\n      // var h = date.getHours();\r\n      // h = h < 10 ? (\'0\' + h) : h;\r\n      // var minute = date.getMinutes();\r\n      // var second = date.getSeconds();\r\n      // minute = minute < 10 ? (\'0\' + minute) : minute;\r\n      // second = second < 10 ? (\'0\' + second) : second;\r\n      //\r\n      // var newTime=date.getFullYear() + \'-\' + m + \'-\' +d+ \' \' + h + \':\' + minute + \':\' + second;\r\n      // console.log(newTime)\r\n      // this.orders_time = newTime\r\n      // console.log(this.orders_time)\r\n\r\n      //判断订单状态\r\n      if (dataItem.order_status == 1) {\r\n        // this.orders_id.push(dataItem.order_id)\r\n        // console.log(dataItem.order_no);\r\n\r\n        let params = {};\r\n        params.order_ids = this.orders_id;\r\n        params.order_status = 2;\r\n        console.log("系统ID", params);\r\n        this.$axios.post("/dis/updateOrderStatus", params).then(res => {\r\n          this.toDispatch.push(dataItem.order_no);\r\n          console.log(res);\r\n          //派单数据\r\n          let orders = {};\r\n          orders.order_id = this.orders_id;\r\n          orders.start_time = this.starttime;\r\n          orders.end_time = this.endtime;\r\n          this.orders.push(orders);\r\n          this.disabled = false;\r\n        });\r\n      } else if (dataItem.order_status == 2) {\r\n        this.toDispatch.push(dataItem.order_no);\r\n        this.disabled = false;\r\n        // this.orders_id.push(dataItem.order_id)\r\n        let orders = {};\r\n        orders.order_id = this.orders_id;\r\n        orders.start_time = this.starttime;\r\n        orders.end_time = this.endtime;\r\n        this.orders.push(orders);\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          message: "此单不能派发！"\r\n        });\r\n      }\r\n    },\r\n    GetOrders() {\r\n      let that = this;\r\n      let start_s = new Date();\r\n      let start_date = start_s.getTime();\r\n      let start = new Date(start_s - 86400000);\r\n      let end_date = start_date + 172800000;\r\n      let end = new Date(end_date);\r\n      var end_m = end.getMonth() + 1;\r\n      end_m = end_m < 10 ? "0" + end_m : end_m;\r\n      var end_d = end.getDate();\r\n      end_d = end_d < 10 ? "0" + end_d : end_d;\r\n      var end_time = end.getFullYear() + "-" + end_m + "-" + end_d;\r\n\r\n      console.log("end_time", end_time);\r\n      var m = start.getMonth() + 1;\r\n      m = m < 10 ? "0" + m : m;\r\n      var d = start.getDate();\r\n      d = d < 10 ? "0" + d : d;\r\n      var start_time = start.getFullYear() + "-" + m + "-" + d;\r\n      console.log("shijian", start);\r\n      console.log("时间...", start_time);\r\n      let url = _that.$api + "/api/dis/getorderlist";\r\n      let postparams = {};\r\n      postparams.order_status = 2;\r\n      postparams.start_service_date = start_time;\r\n      postparams.end_service_date = end_time;\r\n      console.log("数据", postparams);\r\n      this.$axios.post(url, postparams).then(res => {\r\n        console.log("状态码为2", res.data);\r\n        that.datasource1 = res.data;\r\n      });\r\n    },\r\n    moveDist(j) {\r\n      if (j == 0) {\r\n        // this.orders_id.shift()\r\n        this.toDispatch.shift();\r\n        this.disabled = true;\r\n      } else {\r\n        // this.orders_id.splice(j,1)\r\n        this.toDispatch.splice(j, 1);\r\n      }\r\n    },\r\n    getValue() {\r\n      this.order_list.data = [];\r\n      console.log("...", this.worker_id);\r\n      this.worker.worker_id = parseInt(this.worker_id);\r\n      this.worker.orders = this.orders;\r\n      this.order_list.data.push(this.worker);\r\n    },\r\n    //获取派单数据\r\n    show(e) {\r\n      let that = this;\r\n      e.preventDefault();\r\n      var grid = this.$refs.grid.kendoWidget();\r\n      var dataItem = grid.dataItem(e.currentTarget.closest("tr"));\r\n      console.log("详情信息", dataItem);\r\n\r\n      let params = {};\r\n      params.order_no = dataItem.order_no;\r\n      that.$axios\r\n        .post("/dis/getOrderDetail", params)\r\n        .then(res => {\r\n          console.log("系数", res);\r\n          that.mapsd.car_rate = res.data.order_common_info.car_rate;\r\n          that.mapsd.frequency_rate = res.data.order_common_info.frequency_rate;\r\n          that.mapsd.address_rate = res.data.order_common_info.address_rate;\r\n          that.mapsd.holiday_rate = res.data.child_list[0].holiday_rate;\r\n          that.mapsd.money = res.data.order_common_info.average_money;\r\n          let money =\r\n            that.mapsd.car_rate *\r\n            that.mapsd.frequency_rate *\r\n            that.mapsd.address_rate *\r\n            that.mapsd.holiday_rate *\r\n            that.mapsd.order_rate *\r\n            that.mapsd.base_rate;\r\n          that.mapsd.true_money = money;\r\n          console.log("jiage", money);\r\n          this.flag = true;\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    fromtext() {\r\n      this.flag = false;\r\n    },\r\n    //请求派单接口\r\n    postParmas() {\r\n      this.worker_id = "";\r\n      // order_list.worker_id=parseInt(this.worker_id)\r\n      // order_list.order_id=this.orders_id\r\n      // order_list.start_time=this.starttime\r\n      // order_list.end_time = this.endtime\r\n      console.log("派单数据", this.order_list);\r\n      this.$axios\r\n        .post("/dis/dispatchorder", this.order_list)\r\n        .then(res => {\r\n          this.toDispatch = [];\r\n          this.orders = [];\r\n          this.disabled = true;\r\n          this.$message({\r\n            message: res.data[0][0].errmsg,\r\n            type: "success"\r\n          });\r\n          console.log(res);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.toDispatch = [];\r\n          this.orders = [];\r\n          this.disabled = true;\r\n          this.$message({\r\n            message: "派单失败！",\r\n            type: "success"\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n<\/script>\r\n\r\n\x3c!-- Add "scoped" attribute to limit CSS to this component only --\x3e\r\n<style scoped>\r\nh1,\r\nh2 {\r\n  font-weight: normal;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n\r\n.grids {\r\n  width: 80%;\r\n  float: left;\r\n}\r\n.select {\r\n  display: block;\r\n}\r\n.orders {\r\n  width: 19%;\r\n  float: right;\r\n  /*border:1px solid red*/\r\n}\r\n.btn {\r\n  margin: 20px 0;\r\n  width: 70%;\r\n}\r\n.wrk-list li {\r\n  margin: 8px 0;\r\n}\r\n.from {\r\n  width: 50%;\r\n  position: fixed;\r\n  margin: 60px auto;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n  background: white;\r\n}\r\n</style>\r\n'],sourceRoot:""}])},"8J2W":function(r,e,t){var n=t("1yM1");"string"==typeof n&&(n=[[r.i,n,""]]),n.locals&&(r.exports=n.locals);t("rjj0")("9ab25070",n,!1,{})},Ddwn:function(r,e,t){var n=t("UJLo");"string"==typeof n&&(n=[[r.i,n,""]]),n.locals&&(r.exports=n.locals);t("rjj0")("0867ddc7",n,!1,{})},"H+gd":function(r,e,t){"use strict";Date.prototype.Format=function(r){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var t in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+t+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?e[t]:("00"+e[t]).substr((""+e[t]).length)));return r};(new Date).Format("yyyy-MM-dd"),(new Date).Format("yyyy-MM-dd HH:mm:ss")},Spkq:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("mtWM"),s=t.n(n),a=(t("nb/C"),t("H+gd"),{name:"client_orders",data:function(){return{orders:[],toDispatch:[],workers:[],worker_id:"",orders_id:"",orders_time:"",starttime:"",endtime:"",order_list:{},worker:{},disabled:!0,datasource1:"",mapsd:{car_rate:"",frequency_rate:"",address_rate:"",holiday_rate:"",order_rate:.98,money:"",base_rate:1,true_money:""},flag:!1}},created:function(){var r=this,e=new Date,t=e.getMonth()+1;t=t<10?"0"+t:t;var n=e.getDate();n=n<10?"0"+n:n;var a=e.getFullYear()+"-"+t+"-"+n;console.log("当前时间",a);var o=_that.$api+"/api/dis/getworklist",i={city:"上海市"};i.date=a,s.a.post(o,i).then(function(e){console.log(e),r.workers=e.data}),this.GetOrders()},methods:{showDetails:function(r){var e=this;r.preventDefault();var t=this.$refs.grid.kendoWidget().dataItem(r.currentTarget.closest("tr"));if(this.orders_id=t.order_id,this.starttime=t.service_date+" "+t.start_time,this.endtime=t.service_date+" "+t.end_time,1==t.order_status){var n={};n.order_ids=this.orders_id,n.order_status=2,console.log("系统ID",n),this.$axios.post("/dis/updateOrderStatus",n).then(function(r){e.toDispatch.push(t.order_no),console.log(r);var n={};n.order_id=e.orders_id,n.start_time=e.starttime,n.end_time=e.endtime,e.orders.push(n),e.disabled=!1})}else if(2==t.order_status){this.toDispatch.push(t.order_no),this.disabled=!1;var s={};s.order_id=this.orders_id,s.start_time=this.starttime,s.end_time=this.endtime,this.orders.push(s)}else this.$message({showClose:!0,message:"此单不能派发！"})},GetOrders:function(){var r=this,e=new Date,t=e.getTime(),n=new Date(e-864e5),s=new Date(t+1728e5),a=s.getMonth()+1;a=a<10?"0"+a:a;var o=s.getDate();o=o<10?"0"+o:o;var i=s.getFullYear()+"-"+a+"-"+o;console.log("end_time",i);var d=n.getMonth()+1;d=d<10?"0"+d:d;var l=n.getDate();l=l<10?"0"+l:l;var m=n.getFullYear()+"-"+d+"-"+l;console.log("shijian",n),console.log("时间...",m);var c=_that.$api+"/api/dis/getorderlist",p={order_status:2};p.start_service_date=m,p.end_service_date=i,console.log("数据",p),this.$axios.post(c,p).then(function(e){console.log("状态码为2",e.data),r.datasource1=e.data})},moveDist:function(r){0==r?(this.toDispatch.shift(),this.disabled=!0):this.toDispatch.splice(r,1)},getValue:function(){this.order_list.data=[],console.log("...",this.worker_id),this.worker.worker_id=parseInt(this.worker_id),this.worker.orders=this.orders,this.order_list.data.push(this.worker)},show:function(r){var e=this,t=this;r.preventDefault();var n=this.$refs.grid.kendoWidget().dataItem(r.currentTarget.closest("tr"));console.log("详情信息",n);var s={};s.order_no=n.order_no,t.$axios.post("/dis/getOrderDetail",s).then(function(r){console.log("系数",r),t.mapsd.car_rate=r.data.order_common_info.car_rate,t.mapsd.frequency_rate=r.data.order_common_info.frequency_rate,t.mapsd.address_rate=r.data.order_common_info.address_rate,t.mapsd.holiday_rate=r.data.child_list[0].holiday_rate,t.mapsd.money=r.data.order_common_info.average_money;var n=t.mapsd.car_rate*t.mapsd.frequency_rate*t.mapsd.address_rate*t.mapsd.holiday_rate*t.mapsd.order_rate*t.mapsd.base_rate;t.mapsd.true_money=n,console.log("jiage",n),e.flag=!0}).catch(function(r){console.log(r)})},fromtext:function(){this.flag=!1},postParmas:function(){var r=this;this.worker_id="",console.log("派单数据",this.order_list),this.$axios.post("/dis/dispatchorder",this.order_list).then(function(e){r.toDispatch=[],r.orders=[],r.disabled=!0,r.$message({message:e.data[0][0].errmsg,type:"success"}),console.log(e)}).catch(function(e){console.log(e),r.toDispatch=[],r.orders=[],r.disabled=!0,r.$message({message:"派单失败！",type:"success"})})}}}),o=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",[t("div",{staticClass:"pagetitle"},[r._v("洗车预约单")]),r._v(" "),t("el-form",{directives:[{name:"show",rawName:"v-show",value:r.flag,expression:"flag"}],ref:r.mapsd,staticClass:"from",attrs:{"label-width":"80px",model:r.mapsd}},[t("el-form-item",{attrs:{label:"基准价格"}},[t("el-input",{model:{value:r.mapsd.base_rate,callback:function(e){r.$set(r.mapsd,"base_rate",e)},expression:"mapsd.base_rate"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"车型系数"}},[t("el-input",{model:{value:r.mapsd.car_rate,callback:function(e){r.$set(r.mapsd,"car_rate",e)},expression:"mapsd.car_rate"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"频次系数"}},[t("el-input",{model:{value:r.mapsd.frequency_rate,callback:function(e){r.$set(r.mapsd,"frequency_rate",e)},expression:"mapsd.frequency_rate"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"地址系数"}},[t("el-input",{model:{value:r.mapsd.address_rate,callback:function(e){r.$set(r.mapsd,"address_rate",e)},expression:"mapsd.address_rate"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"节日系数"}},[t("el-input",{model:{value:r.mapsd.holiday_rate,callback:function(e){r.$set(r.mapsd,"holiday_rate",e)},expression:"mapsd.holiday_rate"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"派单系数"}},[t("el-input",{model:{value:r.mapsd.order_rate,callback:function(e){r.$set(r.mapsd,"order_rate",e)},expression:"mapsd.order_rate"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"总价格"}},[t("el-input",{model:{value:r.mapsd.money,callback:function(e){r.$set(r.mapsd,"money",e)},expression:"mapsd.money"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"技师价格"}},[t("el-input",{model:{value:r.mapsd.true_money,callback:function(e){r.$set(r.mapsd,"true_money",e)},expression:"mapsd.true_money"}})],1),r._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:r.fromtext}},[r._v("关闭")])],1)],1),r._v(" "),t("div",{staticClass:"orders"},[t("h3",[r._v("待派单")]),r._v(" "),t("ul",{staticClass:"wrk-list"},r._l(r.toDispatch,function(e,n){return t("li",{key:e},[t("div",{staticClass:"view"},[t("button",{staticClass:"destroy",on:{click:function(e){r.moveDist(n)}}},[r._v(r._s(e)+" -")])])])})),r._v(" "),t("h3",[r._v("选择技师")]),r._v(" "),t("div",[t("el-select",{attrs:{placeholder:"请选择",disabled:r.disabled},on:{change:r.getValue},model:{value:r.worker_id,callback:function(e){r.worker_id=e},expression:"worker_id"}},r._l(r.workers,function(r){return t("el-option",{key:r.uid,staticClass:"select",attrs:{label:r.nick_name,value:r.uid}})}))],1),r._v(" "),t("button",{staticClass:"btn",on:{click:r.postParmas}},[r._v("提交")])]),r._v(" "),t("div",{staticClass:"grids"},[t("kendo-grid",{ref:"grid",attrs:{"data-source":r.datasource1,"sortable-mode":"multiple","sortable-allow-unsort":!0,"sortable-show-indexes":!0,"server-filtering":!0,pageable:!0,"filterable-mode":"row"}},[t("kendo-grid-column",{attrs:{field:"order_no",width:220}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"order_id",",":"",title:"系统订单编号",width:120}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"nick_name",title:"用户昵称",width:220}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"create_time",title:"下单时间",width:220}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"item_title",title:"服务项目",width:120,"filterable-cell-operator":"contains","filterable-cell-suggestion-operator":"contains"}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"address_detail",title:"地址",width:250}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"order_status",title:"订单状态",width:120,format:"{0:c}"}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"service_date",title:"服务时间",width:120,format:"{0:c}"}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"start_time",title:"预约开始",width:120}}),r._v(" "),t("kendo-grid-column",{attrs:{field:"end_time",title:"预约截止",width:120}}),r._v(" "),t("kendo-grid-column",{attrs:{command:{text:"选择",click:r.showDetails},title:"&nbsp;",width:100}}),r._v(" "),t("kendo-grid-column",{attrs:{command:{text:"详情",click:r.show},title:"&nbsp;",width:100}})],1)],1)],1)};o._withStripped=!0;var i={render:o,staticRenderFns:[]},d=i;var l=!1;var m=t("VU/8")(a,d,!1,function(r){l||t("8J2W")},"data-v-5b5fe7c7",null);m.options.__file="src/components/client-orders.vue";var c={name:"OrderList",data:function(){return{msg:"home vue"}},components:{ClientOrders:m.exports},created:function(){console.log("token",this.$store.state.token)}},p=function(){var r=this.$createElement,e=this._self._c||r;return e("div",{},[e("ClientOrders")],1)};p._withStripped=!0;var h={render:p,staticRenderFns:[]},u=h;var _=!1;var g=t("VU/8")(c,u,!1,function(r){_||t("Ddwn")},"data-v-ebad8652",null);g.options.__file="src/views/user/order-list.vue";e.default=g.exports},UJLo:function(r,e,t){(r.exports=t("FZ+f")(!0)).push([r.i,"\n.home[data-v-ebad8652] {\r\n  border: 1px solid red;\n}\r\n","",{version:3,sources:["D:/my-vue-webpack/utc-vue-webpack/src/views/user/src/views/user/order-list.vue"],names:[],mappings:";AAqCA;EACA,sBAAA;CACA",file:"order-list.vue",sourcesContent:['<template>\r\n  <div class="">\r\n    <ClientOrders />\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport ClientOrders from "@/components/client-orders.vue";\r\n\r\nexport default {\r\n  name: "OrderList",\r\n  data() {\r\n    return {\r\n      msg: "home vue"\r\n    };\r\n  },\r\n  components: {\r\n    ClientOrders\r\n  },\r\n  created() {\r\n    console.log("token", this.$store.state.token);\r\n    // this.$axios\r\n    //   .get("/user/index", {\r\n    //     headers: { Authorization: "Bearer " + this.$store.state.token }\r\n    //   })\r\n    //   .then(res => {\r\n    //     console.log(res);\r\n    //   })\r\n    //   .catch(err => {\r\n    //     console.log(err);\r\n    //   });\r\n  }\r\n};\r\n<\/script>\r\n<style scoped>\r\n.home {\r\n  border: 1px solid red;\r\n}\r\n</style>\r\n\r\n'],sourceRoot:""}])}});
//# sourceMappingURL=8.9c35028da429a2da7f63.js.map