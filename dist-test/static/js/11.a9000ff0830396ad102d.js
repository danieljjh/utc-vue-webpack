webpackJsonp([11],{TC29:function(t,r){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADiklEQVRYR9WWW2gcVRjH//+ZOdNgUxMEQezOKMbtTrC11jyoJYKX9kWh9YJUfBAR6VMRKoi3FwWx6pMSEEXEJ6GCeKkoWLSgoC15qGJTdrJi1Jk0eAHtg7HsnJ35ZLcbmkx2smdWpTiPc/7/7/ud73znQpznj+c5P/5fAAI4s757l0B2AJiA4HIALoCfSBxlhtdr83q6TFWNK9DwnR2pWK+QqK6ZQOQEwedqcXLQBMQIIPSdxyA8ANJIfzaxvNWK9IObgWQtkL4BQ895CrSeNZnNKo3gUBAnuwcGaPjOzkz4SbmZr0xHZE/UotbzRRCFFRDACj23TmLTQLPvmkRkcVi0783j915xCgFCz94N2u/3Mgnk0+FM72kHnbkYw2rI2ZaRLxPcVpDk6VqUPFMSQB0EuSdvEpEvgljfdBJQynPvFKRngjg9NAO4jq8+BnjrKg/k+HikJ8oB+O4PQGefr/wybF3nJI1mqqZBbul2/JHRpt512sUIoGKQVt7WOpNs2Pwb/sz/L1yCuqc0SWe5QSA6iPRQw7N3Ce33cmSPB1HrhdBT354DO6dgKxmvLSA0AhDAnvWUzne/iPwVxHpD6Kn7Sb65PBghU7VIPxz66jOAt+QT2S25trqgvzYCaItC3/0ewBWrDKlckzr6V0tUCPDCzriISCqT4wutr0JfnQY4stInTTvSI1WgaQxQ99QUyX1FTThXwZWa6hEBRh2RV6vzrc/rnnogX5mzgPggiJM7SjVh/VJnOx3ry57bUHD4Aib3Xhbhj6Xxxkb79tSy3ia5Pu+xsvTuTfPpu6UAOsvgqW9Abu0JAdEE50TkZxIK4PZeOgA/1qJkjEBWGmC2Yt8mlv1RQWDD37I/iPRLReK+l1HdU0dJXm+YLdd7iO04qfZqviVhX4Bwo3MzbOvIQABpek9wKn1nLW9fgLa57qnDJHeWghCZDmJ9XT+PEcB3HsZSqhmAQ/0CLo3bqdxQPaWP9dMbAXR2RMV5FJb1Yr+A3YPpjSDWD5lojQEEUKHnnuz7JgTmRpvJ1Zf8gsV/FaDTC76aoKB9C6667bozzySVG9tHsknytsa4AksB6xW1jxanCk7IA+Nx8qRp8oEAupV4jeDe5YlE5FgQ60kC6X8O0H792J46TvKqbrL6+iyZLHr3/eNzoFeAuIKLFi31YfuuUy1939gCojIzNz4JBwlaxlO6CcsEN9H+DaA0RjAvQIjnAAAAAElFTkSuQmCC"},ijMf:function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=a("TC29"),n=a.n(e),o={name:"App",data:function(){return{Yesterday:"",Today:"",tomorrow:"",tomorrows:"",list:[],heights:document.documentElement.clientHeight-101+"px"}},mounted:function(){this._data.Yesterday=this.GetDateStr(-1),this._data.Today=this.GetDateStr(0),this._data.tomorrow=this.GetDateStr(1),this._data.tomorrows=this.GetDateStr(2),this.Todaylist()},methods:{GetDateStr:function(t){var r=new Date;return r.setDate(r.getDate()+t),r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()},Todaylist:function(){var t=this;t._data.list=[],t.$axios.post(t.$api+"/api/dis/getorderlist",{start_service_date:t._data.Yesterday,end_service_date:t._data.tomorrow}).then(function(r){r.data.forEach(function(r,a){var e={};e.lat=r.address_latitude,e.lon=r.address_longitude,e.text=r.address_detail,t._data.list.push(e)}),t.map()})},tomorrowlist:function(){var t=this;t._data.list=[],t.$axios.post(t.$api+"/api/dis/getorderlist",{start_service_date:t._data.Today,end_service_date:t._data.tomorrows,order_status:2}).then(function(r){r.data.forEach(function(r,a){var e={};e.lat=r.address_latitude,e.lon=r.address_longitude,e.text=r.address_detail,t._data.list.push(e)}),t.map()})},map:function(){var t=new BMap.Map("allmap"),r=new BMap.Point(121.487899486,31.24916171);t.centerAndZoom(r,12),t.enableScrollWheelZoom(),t.enableContinuousZoom();for(var a=0;a<this._data.list.length;a++){e(new BMap.Point(this._data.list[a].lon,this._data.list[a].lat),this._data.list[a].text)}function e(r,a){var e=new BMap.Icon(n.a,new BMap.Size(100,100),{anchor:new BMap.Size(100,100)}),o=new BMap.Marker(r,{icon:e}),i={position:r,offset:new BMap.Size(-150,-150)},s=new BMap.Label(a,i);s.setStyle({color:"red",fontSize:"14px",height:"20px",lineHeight:"20px",fontFamily:"微软雅黑"}),t.addOverlay(s),t.addOverlay(o)}}}},i=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{attrs:{id:"app"}},[a("el-button",{attrs:{type:"primary",autofocus:!0},on:{click:t.Todaylist}},[t._v("今日订单")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.tomorrowlist}},[t._v("明日订单")]),t._v(" "),a("div",{ref:"allmap",style:{height:t.heights},attrs:{id:"allmap"}}),t._v(" "),a("router-view")],1)};i._withStripped=!0;var s={render:i,staticRenderFns:[]},d=s;var l=!1;var p=a("VU/8")(o,d,!1,function(t){l||a("tOk1")},null,null);p.options.__file="src/views/admin/order-map.vue";r.default=p.exports},tOk1:function(t,r,a){var e=a("v11H");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("rjj0")("7b7376da",e,!1,{})},v11H:function(t,r,a){(t.exports=a("FZ+f")(!0)).push([t.i,'\n#app {\r\n  font-family: "Avenir", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\n}\n#allmap {\r\n  height: 500px;\r\n  overflow: hidden;\n}\r\n',"",{version:3,sources:["D:/my-vue-webpack/utc-vue-webpack/src/views/admin/src/views/admin/order-map.vue"],names:[],mappings:";AA0HA;EACA,oDAAA;EACA,oCAAA;EACA,mCAAA;EACA,mBAAA;EACA,eAAA;CACA;AACA;EACA,cAAA;EACA,iBAAA;CACA",file:"order-map.vue",sourcesContent:['<template>\r\n  <div id="app">\r\n    <el-button type="primary" :autofocus="true" @click="Todaylist">今日订单</el-button>\r\n    <el-button type="primary" @click="tomorrowlist">明日订单</el-button>\r\n    <div id="allmap" ref="allmap" :style="{height:heights}"></div>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nimport mapimg1 from "../../assets/images/r-map.png";\r\nexport default {\r\n  name: "App",\r\n  data() {\r\n    return {\r\n      Yesterday: "",\r\n      Today: "",\r\n      tomorrow: "",\r\n      tomorrows: "",\r\n      list: [],\r\n      heights: document.documentElement.clientHeight - 101 + "px"\r\n    };\r\n  },\r\n  mounted() {\r\n    var _that = this;\r\n    _that._data.Yesterday = this.GetDateStr(-1);\r\n    _that._data.Today = this.GetDateStr(0);\r\n    _that._data.tomorrow = this.GetDateStr(1);\r\n    _that._data.tomorrows = this.GetDateStr(2);\r\n    _that.Todaylist();\r\n  },\r\n  methods: {\r\n    GetDateStr(AddDayCount) {\r\n      var dd = new Date();\r\n      dd.setDate(dd.getDate() + AddDayCount); //获取AddDayCount天后的日期\r\n      var y = dd.getFullYear();\r\n      var m = dd.getMonth() + 1; //获取当前月份的日期\r\n      var d = dd.getDate();\r\n      return y + "-" + m + "-" + d;\r\n    },\r\n    Todaylist() {\r\n      var _that = this;\r\n      _that._data.list = [];\r\n\r\n      _that.$axios\r\n        .post(_that.$api + "/api/dis/getorderlist", {\r\n          start_service_date: _that._data.Yesterday,\r\n          end_service_date: _that._data.tomorrow\r\n        })\r\n        .then(res => {\r\n          res.data.forEach(function(element, index) {\r\n            var obj = {};\r\n            obj.lat = element.address_latitude;\r\n            obj.lon = element.address_longitude;\r\n            obj.text = element.address_detail;\r\n            _that._data.list.push(obj);\r\n          });\r\n          _that.map();\r\n        });\r\n    },\r\n    tomorrowlist() {\r\n      var _that = this;\r\n      _that._data.list = [];\r\n\r\n      _that.$axios\r\n        .post(_that.$api + "/api/dis/getorderlist", {\r\n          start_service_date: _that._data.Today,\r\n          end_service_date: _that._data.tomorrows,\r\n          order_status: 2\r\n        })\r\n        .then(res => {\r\n          res.data.forEach(function(element, index) {\r\n            var obj = {};\r\n            obj.lat = element.address_latitude;\r\n            obj.lon = element.address_longitude;\r\n            obj.text = element.address_detail;\r\n            _that._data.list.push(obj);\r\n          });\r\n          _that.map();\r\n        });\r\n    },\r\n    map() {\r\n      var _that = this;\r\n      var map = new BMap.Map("allmap"); // 百度地图API功能\r\n      var point = new BMap.Point(121.487899486, 31.24916171); // 默认点\r\n      map.centerAndZoom(point, 12);\r\n      map.enableScrollWheelZoom(); //启用滚轮放大缩小，默认禁用\r\n      map.enableContinuousZoom();\r\n      for (var i = 0; i < _that._data.list.length; i++) {\r\n        var points = new BMap.Point(\r\n          _that._data.list[i].lon,\r\n          _that._data.list[i].lat\r\n        ); //创建坐标点\r\n\r\n        markerFun(points, _that._data.list[i].text);\r\n      }\r\n      function markerFun(points, texts) {\r\n        var icon = new BMap.Icon(mapimg1, new BMap.Size(100, 100), {\r\n          anchor: new BMap.Size(100, 100)\r\n        });\r\n        var markers = new BMap.Marker(points, { icon: icon });\r\n        var opts = {\r\n          position: points, // 指定文本标注所在的地理位置\r\n          offset: new BMap.Size(-150, -150) //设置文本偏移量\r\n        };\r\n        var label = new BMap.Label(texts, opts); // 创建文本标注对象\r\n        label.setStyle({\r\n          color: "red",\r\n          fontSize: "14px",\r\n          height: "20px",\r\n          lineHeight: "20px",\r\n          fontFamily: "微软雅黑"\r\n        });\r\n        map.addOverlay(label);\r\n        map.addOverlay(markers);\r\n      }\r\n    }\r\n  }\r\n};\r\n<\/script>\r\n \r\n<style>\r\n#app {\r\n  font-family: "Avenir", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n#allmap {\r\n  height: 500px;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n '],sourceRoot:""}])}});
//# sourceMappingURL=11.a9000ff0830396ad102d.js.map