{"version":3,"sources":["webpack:///./src/views/admin/official-account.vue?e3f0","webpack:///./src/views/admin/official-account.vue?4546","webpack:///src/views/admin/official-account.vue","webpack:///./src/views/admin/official-account.vue?2457","webpack:///./src/views/admin/official-account.vue"],"names":["content","__webpack_require__","module","i","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","official_account","data","indexs","articlelist","createactivityoperate2","formLabelWidth","tableData","modifydata","mounted","_this","this","$axios","get","then","res","_data","articles","article_list","methods","inputFunction","index","add","details","url","order","title","description","picurl","console","log","modifyactivity","e","createactivities2","type","length","uploads","_this2","target","files","imgUrl","URL","createObjectURL","formData","FormData","append","$http","post","rs","img_url","$message","catch","err","callobject","row","column","cellValue","callobject2","handleClick","_this3","splice","id","erro","error","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","border","prop","label","formatter","scopedSlots","_u","key","fn","scope","size","on","click","$event","visible","update:visible","_l","item","directives","name","rawName","value","expression","span","placeholder","input","model","callback","$$v","$set","items","news_id","_e","change","src","slot","_withStripped","esExports","staticRenderFns","admin_official_account","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__"],"mappings":"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","file":"static/js/12.e9b5cd536046ea0e82c4.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c74c925\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./official-account.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"125883a3\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c74c925\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./official-account.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c74c925\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./official-account.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7c74c925\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/official-account.vue\n// module id = 9wNf\n// module chunks = 12","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.add {\\r\\n  float: right;\\r\\n  margin: 5px 47px 15px 0;\\n}\\n.avatar-uploader .el-upload {\\r\\n  border: 1px dashed #d9d9d9;\\r\\n  border-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\n}\\n.avatar-uploader .el-upload:hover {\\r\\n  border-color: #409eff;\\n}\\n.avatar-uploader-icon {\\r\\n  font-size: 28px;\\r\\n  color: #8c939d;\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  line-height: 178px;\\r\\n  text-align: center;\\n}\\n.avatar {\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  display: block;\\n}\\n.Posterpictures {\\r\\n  width: 18%;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"D:/my-vue-webpack/utc-vue-webpack/src/views/admin/src/views/admin/official-account.vue\"],\"names\":[],\"mappings\":\";AAsMA;EACA,aAAA;EACA,wBAAA;CACA;AACA;EACA,2BAAA;EACA,mBAAA;EACA,gBAAA;EACA,mBAAA;EACA,iBAAA;CACA;AACA;EACA,sBAAA;CACA;AACA;EACA,gBAAA;EACA,eAAA;EACA,aAAA;EACA,cAAA;EACA,mBAAA;EACA,mBAAA;CACA;AACA;EACA,aAAA;EACA,cAAA;EACA,eAAA;CACA;AACA;EACA,WAAA;CACA\",\"file\":\"official-account.vue\",\"sourcesContent\":[\"<template>\\r\\n  <div>\\r\\n    <!-- 表格显示 -->\\r\\n    <div class=\\\"pagetitle\\\">用户活动</div>\\r\\n    <el-table :data=\\\"tableData\\\" border style=\\\"width: 100%\\\">\\r\\n      <el-table-column prop=\\\"type\\\" label=\\\"文章类型\\\" width=\\\"120\\\" :formatter=\\\"callobject\\\"></el-table-column>\\r\\n      <el-table-column prop=\\\"action\\\" label=\\\"文章行为\\\" width=\\\"120\\\" :formatter=\\\"callobject2\\\"></el-table-column>\\r\\n\\r\\n      <el-table-column prop=\\\"created_on\\\" label=\\\"创建日期\\\"></el-table-column>\\r\\n\\r\\n      <el-table-column label=\\\"操作\\\" width=\\\"300\\\">\\r\\n        <template slot-scope=\\\"scope\\\">\\r\\n          <el-button @click=\\\"modifyactivity(scope.row)\\\" type=\\\"text\\\" size=\\\"small\\\">详情</el-button>\\r\\n        </template>\\r\\n      </el-table-column>\\r\\n    </el-table>\\r\\n    <!-- 修改活动 -->\\r\\n    <el-dialog title=\\\"修改文章\\\" :visible.sync=\\\"createactivityoperate2\\\">\\r\\n      <el-form v-show=\\\"modifydata.details\\\" v-for=\\\"(item,index) in modifydata.details\\\" :key=\\\"index\\\">\\r\\n        <el-row>\\r\\n          <el-col :span=\\\"2\\\">\\r\\n            <el-input\\r\\n              v-model=\\\"item.order\\\"\\r\\n              placeholder=\\\"文章ID\\\"\\r\\n              @input=\\\"inputFunction(index)\\\"\\r\\n              id=\\\"myInput\\\"\\r\\n            ></el-input>\\r\\n          </el-col>\\r\\n          <el-col :span=\\\"5\\\">\\r\\n            <el-input v-model=\\\"item.title\\\" placeholder=\\\"文章名称\\\"></el-input>\\r\\n          </el-col>\\r\\n          <el-col :span=\\\"5\\\">\\r\\n            <el-input v-model=\\\"item.description\\\" placeholder=\\\"文章介绍\\\"></el-input>\\r\\n          </el-col>\\r\\n          <el-col :span=\\\"5\\\" v-if=\\\"modifydata.type != 'agent'\\\">\\r\\n            <el-select v-model=\\\"item.url\\\">\\r\\n              <el-option\\r\\n                v-for=\\\"(items,index) in articlelist\\\"\\r\\n                :label=\\\"items.title\\\"\\r\\n                :value=\\\"items.news_id\\\"\\r\\n                :key=\\\"index\\\"\\r\\n              ></el-option>\\r\\n            </el-select>\\r\\n          </el-col>\\r\\n          <el-col :span=\\\"5\\\" v-if=\\\"modifydata.type === 'agent'\\\">\\r\\n            <el-input v-model=\\\"item.url\\\" placeholder=\\\"文章链接\\\"></el-input>\\r\\n          </el-col>\\r\\n          <el-col :span=\\\"5\\\">\\r\\n            <div>\\r\\n              <input type=\\\"file\\\" @change=\\\"uploads\\\" />\\r\\n              <p></p>\\r\\n              <img :src=\\\"item.picurl\\\" class=\\\"Posterpictures\\\" />\\r\\n            </div>\\r\\n          </el-col>\\r\\n          <!-- <el-col :span=\\\"2\\\">\\r\\n            <el-button @click=\\\"handleClick(index)\\\" type=\\\"text\\\" size=\\\"small\\\">删除</el-button>\\r\\n          </el-col>-->\\r\\n        </el-row>\\r\\n      </el-form>\\r\\n\\r\\n      <div slot=\\\"footer\\\" class=\\\"dialog-footer\\\">\\r\\n        <el-button type=\\\"warning\\\" @click=\\\"add() \\\">添加文章</el-button>\\r\\n        <el-button @click=\\\"createactivityoperate2 = false\\\">取 消</el-button>\\r\\n        <el-button type=\\\"primary\\\" @click=\\\"createactivities2()\\\">修改文章</el-button>\\r\\n      </div>\\r\\n    </el-dialog>\\r\\n  </div>\\r\\n</template>\\r\\n<script>\\r\\nexport default {\\r\\n  data() {\\r\\n    return {\\r\\n      indexs: \\\"\\\",\\r\\n      articlelist: [],\\r\\n      createactivityoperate2: false,\\r\\n      formLabelWidth: \\\"160px\\\",\\r\\n      tableData: [],\\r\\n      modifydata: {}\\r\\n    };\\r\\n  },\\r\\n  mounted() {\\r\\n    var _that = this;\\r\\n    this.$axios\\r\\n      .get(\\\"https://wx.upctech.com.cn/wx/event/choose_template/all_article\\\")\\r\\n      .then(res => {\\r\\n        this._data.tableData = res.data.articles;\\r\\n      });\\r\\n    this.$axios\\r\\n      .get(\\\"https://wx.upctech.com.cn/wx/event/choose_template/all_content\\\")\\r\\n      .then(res => {\\r\\n        this._data.articlelist = res.data.article_list;\\r\\n      });\\r\\n  },\\r\\n  methods: {\\r\\n    inputFunction(index) {\\r\\n      this._data.indexs = index;\\r\\n    },\\r\\n    add() {\\r\\n      this._data.modifydata.details.push({\\r\\n        url: \\\"\\\",\\r\\n        order: \\\"\\\",\\r\\n        title: \\\"\\\",\\r\\n        description: \\\"\\\",\\r\\n        picurl: \\\"\\\"\\r\\n      });\\r\\n      console.log();\\r\\n    },\\r\\n    modifyactivity(e) {\\r\\n      this._data.createactivityoperate2 = true;\\r\\n      this._data.modifydata = e;\\r\\n    },\\r\\n    createactivities2() {\\r\\n      this._data.createactivityoperate2 = false;\\r\\n      var data = this._data.modifydata;\\r\\n      if (this._data.modifydata.type != \\\"agent\\\") {\\r\\n        for (var i = 0; i < data.details.length; i++) {\\r\\n          data.details[i].url =\\r\\n            \\\"wx.upctech.com.cn/\\\" +\\r\\n            data.type +\\r\\n            \\\"/news-information?news_id=\\\" +\\r\\n            data.details[i].url;\\r\\n        }\\r\\n      }\\r\\n\\r\\n      console.log(\\\"data\\\", data);\\r\\n\\r\\n      // this.$axios\\r\\n      //   .post(\\r\\n      //     \\\"http://wx.upctech.com.cn/wx/event/choose_template/update_article/\\\",\\r\\n      //     data\\r\\n      //   )\\r\\n      //   .then(res => {\\r\\n      //     console.log(res);\\r\\n      //     this.$message(\\\"修改成功\\\");\\r\\n      //     // window.location.reload();\\r\\n      //   });\\r\\n    },\\r\\n    uploads(e) {\\r\\n      var _that = this;\\r\\n      const file = e.target.files[0]; //获取到当前文件对象\\r\\n      this.imgUrl = URL.createObjectURL(file); // 这是为了显示图片而已， 与上传没有关系（可选）\\r\\n\\r\\n      // 传递一个 FormData 对象 即可\\r\\n      let formData = new FormData();\\r\\n      formData.append(\\\"image\\\", file); // 'file' 可变 相当于 input 表单的name 属性\\r\\n      // 服务器只需按照正常的上传程序代码即可\\r\\n      this.$http\\r\\n        .post(\\\"https://wx.upctech.com.cn/wx/img/image/upload/\\\", formData)\\r\\n        .then(rs => {\\r\\n          console.log(this._data.indexs);\\r\\n          this._data.modifydata.details[this._data.indexs].picurl =\\r\\n            rs.data.img_url;\\r\\n\\r\\n          this.$message(\\\"上传成功\\\");\\r\\n        })\\r\\n        .catch(err => {\\r\\n          console.log(err);\\r\\n        });\\r\\n    },\\r\\n    callobject(row, column, cellValue) {\\r\\n      if (cellValue === \\\"worker\\\") {\\r\\n        return \\\"技师\\\";\\r\\n      } else if (cellValue === \\\"member\\\") {\\r\\n        return \\\"用户\\\";\\r\\n      } else {\\r\\n        return \\\"代理\\\";\\r\\n      }\\r\\n    },\\r\\n    callobject2(row, column, cellValue) {\\r\\n      if (cellValue === \\\"subscribe\\\") {\\r\\n        return \\\"订阅\\\";\\r\\n      } else {\\r\\n        return \\\"扫描\\\";\\r\\n      }\\r\\n    },\\r\\n    handleClick(e) {\\r\\n      console.log(e);\\r\\n      var _that = this;\\r\\n      _that._data.modifydata.details.splice(e, 1);\\r\\n\\r\\n      _that.$axios\\r\\n        .get(\\r\\n          \\\"https://wx.upctech.com.cn/wx/event/choose_template/delete_article/?id=\\\" +\\r\\n            e.id\\r\\n        )\\r\\n        .then(res => {\\r\\n          if (res.data.erro == \\\"done\\\") {\\r\\n            this.$message(\\\"删除成功\\\");\\r\\n            //window.location.reload();\\r\\n          } else {\\r\\n            this.$message.error(\\\"删除失败\\\");\\r\\n          }\\r\\n        });\\r\\n    }\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n<style>\\r\\n.add {\\r\\n  float: right;\\r\\n  margin: 5px 47px 15px 0;\\r\\n}\\r\\n.avatar-uploader .el-upload {\\r\\n  border: 1px dashed #d9d9d9;\\r\\n  border-radius: 6px;\\r\\n  cursor: pointer;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\r\\n}\\r\\n.avatar-uploader .el-upload:hover {\\r\\n  border-color: #409eff;\\r\\n}\\r\\n.avatar-uploader-icon {\\r\\n  font-size: 28px;\\r\\n  color: #8c939d;\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  line-height: 178px;\\r\\n  text-align: center;\\r\\n}\\r\\n.avatar {\\r\\n  width: 178px;\\r\\n  height: 178px;\\r\\n  display: block;\\r\\n}\\r\\n.Posterpictures {\\r\\n  width: 18%;\\r\\n}\\r\\n</style>\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7c74c925\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/official-account.vue\n// module id = S3BG\n// module chunks = 12","<template>\r\n  <div>\r\n    <!-- 表格显示 -->\r\n    <div class=\"pagetitle\">用户活动</div>\r\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n      <el-table-column prop=\"type\" label=\"文章类型\" width=\"120\" :formatter=\"callobject\"></el-table-column>\r\n      <el-table-column prop=\"action\" label=\"文章行为\" width=\"120\" :formatter=\"callobject2\"></el-table-column>\r\n\r\n      <el-table-column prop=\"created_on\" label=\"创建日期\"></el-table-column>\r\n\r\n      <el-table-column label=\"操作\" width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"modifyactivity(scope.row)\" type=\"text\" size=\"small\">详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 修改活动 -->\r\n    <el-dialog title=\"修改文章\" :visible.sync=\"createactivityoperate2\">\r\n      <el-form v-show=\"modifydata.details\" v-for=\"(item,index) in modifydata.details\" :key=\"index\">\r\n        <el-row>\r\n          <el-col :span=\"2\">\r\n            <el-input\r\n              v-model=\"item.order\"\r\n              placeholder=\"文章ID\"\r\n              @input=\"inputFunction(index)\"\r\n              id=\"myInput\"\r\n            ></el-input>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-input v-model=\"item.title\" placeholder=\"文章名称\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <el-input v-model=\"item.description\" placeholder=\"文章介绍\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"5\" v-if=\"modifydata.type != 'agent'\">\r\n            <el-select v-model=\"item.url\">\r\n              <el-option\r\n                v-for=\"(items,index) in articlelist\"\r\n                :label=\"items.title\"\r\n                :value=\"items.news_id\"\r\n                :key=\"index\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"5\" v-if=\"modifydata.type === 'agent'\">\r\n            <el-input v-model=\"item.url\" placeholder=\"文章链接\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"5\">\r\n            <div>\r\n              <input type=\"file\" @change=\"uploads\" />\r\n              <p></p>\r\n              <img :src=\"item.picurl\" class=\"Posterpictures\" />\r\n            </div>\r\n          </el-col>\r\n          <!-- <el-col :span=\"2\">\r\n            <el-button @click=\"handleClick(index)\" type=\"text\" size=\"small\">删除</el-button>\r\n          </el-col>-->\r\n        </el-row>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"warning\" @click=\"add() \">添加文章</el-button>\r\n        <el-button @click=\"createactivityoperate2 = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"createactivities2()\">修改文章</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      indexs: \"\",\r\n      articlelist: [],\r\n      createactivityoperate2: false,\r\n      formLabelWidth: \"160px\",\r\n      tableData: [],\r\n      modifydata: {}\r\n    };\r\n  },\r\n  mounted() {\r\n    var _that = this;\r\n    this.$axios\r\n      .get(\"https://wx.upctech.com.cn/wx/event/choose_template/all_article\")\r\n      .then(res => {\r\n        this._data.tableData = res.data.articles;\r\n      });\r\n    this.$axios\r\n      .get(\"https://wx.upctech.com.cn/wx/event/choose_template/all_content\")\r\n      .then(res => {\r\n        this._data.articlelist = res.data.article_list;\r\n      });\r\n  },\r\n  methods: {\r\n    inputFunction(index) {\r\n      this._data.indexs = index;\r\n    },\r\n    add() {\r\n      this._data.modifydata.details.push({\r\n        url: \"\",\r\n        order: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        picurl: \"\"\r\n      });\r\n      console.log();\r\n    },\r\n    modifyactivity(e) {\r\n      this._data.createactivityoperate2 = true;\r\n      this._data.modifydata = e;\r\n    },\r\n    createactivities2() {\r\n      this._data.createactivityoperate2 = false;\r\n      var data = this._data.modifydata;\r\n      if (this._data.modifydata.type != \"agent\") {\r\n        for (var i = 0; i < data.details.length; i++) {\r\n          data.details[i].url =\r\n            \"wx.upctech.com.cn/\" +\r\n            data.type +\r\n            \"/news-information?news_id=\" +\r\n            data.details[i].url;\r\n        }\r\n      }\r\n\r\n      console.log(\"data\", data);\r\n\r\n      // this.$axios\r\n      //   .post(\r\n      //     \"http://wx.upctech.com.cn/wx/event/choose_template/update_article/\",\r\n      //     data\r\n      //   )\r\n      //   .then(res => {\r\n      //     console.log(res);\r\n      //     this.$message(\"修改成功\");\r\n      //     // window.location.reload();\r\n      //   });\r\n    },\r\n    uploads(e) {\r\n      var _that = this;\r\n      const file = e.target.files[0]; //获取到当前文件对象\r\n      this.imgUrl = URL.createObjectURL(file); // 这是为了显示图片而已， 与上传没有关系（可选）\r\n\r\n      // 传递一个 FormData 对象 即可\r\n      let formData = new FormData();\r\n      formData.append(\"image\", file); // 'file' 可变 相当于 input 表单的name 属性\r\n      // 服务器只需按照正常的上传程序代码即可\r\n      this.$http\r\n        .post(\"https://wx.upctech.com.cn/wx/img/image/upload/\", formData)\r\n        .then(rs => {\r\n          console.log(this._data.indexs);\r\n          this._data.modifydata.details[this._data.indexs].picurl =\r\n            rs.data.img_url;\r\n\r\n          this.$message(\"上传成功\");\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    callobject(row, column, cellValue) {\r\n      if (cellValue === \"worker\") {\r\n        return \"技师\";\r\n      } else if (cellValue === \"member\") {\r\n        return \"用户\";\r\n      } else {\r\n        return \"代理\";\r\n      }\r\n    },\r\n    callobject2(row, column, cellValue) {\r\n      if (cellValue === \"subscribe\") {\r\n        return \"订阅\";\r\n      } else {\r\n        return \"扫描\";\r\n      }\r\n    },\r\n    handleClick(e) {\r\n      console.log(e);\r\n      var _that = this;\r\n      _that._data.modifydata.details.splice(e, 1);\r\n\r\n      _that.$axios\r\n        .get(\r\n          \"https://wx.upctech.com.cn/wx/event/choose_template/delete_article/?id=\" +\r\n            e.id\r\n        )\r\n        .then(res => {\r\n          if (res.data.erro == \"done\") {\r\n            this.$message(\"删除成功\");\r\n            //window.location.reload();\r\n          } else {\r\n            this.$message.error(\"删除失败\");\r\n          }\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.add {\r\n  float: right;\r\n  margin: 5px 47px 15px 0;\r\n}\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n.Posterpictures {\r\n  width: 18%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/admin/official-account.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"div\", { staticClass: \"pagetitle\" }, [_vm._v(\"用户活动\")]),\n      _vm._v(\" \"),\n      _c(\n        \"el-table\",\n        {\n          staticStyle: { width: \"100%\" },\n          attrs: { data: _vm.tableData, border: \"\" }\n        },\n        [\n          _c(\"el-table-column\", {\n            attrs: {\n              prop: \"type\",\n              label: \"文章类型\",\n              width: \"120\",\n              formatter: _vm.callobject\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: {\n              prop: \"action\",\n              label: \"文章行为\",\n              width: \"120\",\n              formatter: _vm.callobject2\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"created_on\", label: \"创建日期\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { label: \"操作\", width: \"300\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-button\",\n                      {\n                        attrs: { type: \"text\", size: \"small\" },\n                        on: {\n                          click: function($event) {\n                            _vm.modifyactivity(scope.row)\n                          }\n                        }\n                      },\n                      [_vm._v(\"详情\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          attrs: { title: \"修改文章\", visible: _vm.createactivityoperate2 },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.createactivityoperate2 = $event\n            }\n          }\n        },\n        [\n          _vm._l(_vm.modifydata.details, function(item, index) {\n            return _c(\n              \"el-form\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.modifydata.details,\n                    expression: \"modifydata.details\"\n                  }\n                ],\n                key: index\n              },\n              [\n                _c(\n                  \"el-row\",\n                  [\n                    _c(\n                      \"el-col\",\n                      { attrs: { span: 2 } },\n                      [\n                        _c(\"el-input\", {\n                          attrs: { placeholder: \"文章ID\", id: \"myInput\" },\n                          on: {\n                            input: function($event) {\n                              _vm.inputFunction(index)\n                            }\n                          },\n                          model: {\n                            value: item.order,\n                            callback: function($$v) {\n                              _vm.$set(item, \"order\", $$v)\n                            },\n                            expression: \"item.order\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"el-col\",\n                      { attrs: { span: 5 } },\n                      [\n                        _c(\"el-input\", {\n                          attrs: { placeholder: \"文章名称\" },\n                          model: {\n                            value: item.title,\n                            callback: function($$v) {\n                              _vm.$set(item, \"title\", $$v)\n                            },\n                            expression: \"item.title\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"el-col\",\n                      { attrs: { span: 5 } },\n                      [\n                        _c(\"el-input\", {\n                          attrs: { placeholder: \"文章介绍\" },\n                          model: {\n                            value: item.description,\n                            callback: function($$v) {\n                              _vm.$set(item, \"description\", $$v)\n                            },\n                            expression: \"item.description\"\n                          }\n                        })\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _vm.modifydata.type != \"agent\"\n                      ? _c(\n                          \"el-col\",\n                          { attrs: { span: 5 } },\n                          [\n                            _c(\n                              \"el-select\",\n                              {\n                                model: {\n                                  value: item.url,\n                                  callback: function($$v) {\n                                    _vm.$set(item, \"url\", $$v)\n                                  },\n                                  expression: \"item.url\"\n                                }\n                              },\n                              _vm._l(_vm.articlelist, function(items, index) {\n                                return _c(\"el-option\", {\n                                  key: index,\n                                  attrs: {\n                                    label: items.title,\n                                    value: items.news_id\n                                  }\n                                })\n                              })\n                            )\n                          ],\n                          1\n                        )\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _vm.modifydata.type === \"agent\"\n                      ? _c(\n                          \"el-col\",\n                          { attrs: { span: 5 } },\n                          [\n                            _c(\"el-input\", {\n                              attrs: { placeholder: \"文章链接\" },\n                              model: {\n                                value: item.url,\n                                callback: function($$v) {\n                                  _vm.$set(item, \"url\", $$v)\n                                },\n                                expression: \"item.url\"\n                              }\n                            })\n                          ],\n                          1\n                        )\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _c(\"el-col\", { attrs: { span: 5 } }, [\n                      _c(\"div\", [\n                        _c(\"input\", {\n                          attrs: { type: \"file\" },\n                          on: { change: _vm.uploads }\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"p\"),\n                        _vm._v(\" \"),\n                        _c(\"img\", {\n                          staticClass: \"Posterpictures\",\n                          attrs: { src: item.picurl }\n                        })\n                      ])\n                    ])\n                  ],\n                  1\n                )\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            {\n              staticClass: \"dialog-footer\",\n              attrs: { slot: \"footer\" },\n              slot: \"footer\"\n            },\n            [\n              _c(\n                \"el-button\",\n                {\n                  attrs: { type: \"warning\" },\n                  on: {\n                    click: function($event) {\n                      _vm.add()\n                    }\n                  }\n                },\n                [_vm._v(\"添加文章\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  on: {\n                    click: function($event) {\n                      _vm.createactivityoperate2 = false\n                    }\n                  }\n                },\n                [_vm._v(\"取 消\")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"el-button\",\n                {\n                  attrs: { type: \"primary\" },\n                  on: {\n                    click: function($event) {\n                      _vm.createactivities2()\n                    }\n                  }\n                },\n                [_vm._v(\"修改文章\")]\n              )\n            ],\n            1\n          )\n        ],\n        2\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-7c74c925\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c74c925\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/official-account.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c74c925\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./official-account.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./official-account.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./official-account.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c74c925\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./official-account.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/admin/official-account.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7c74c925\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7c74c925\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/official-account.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}